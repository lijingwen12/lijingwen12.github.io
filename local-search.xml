<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ts(简洁重新整理)</title>
    <link href="/2022/08/24/ts/"/>
    <url>/2022/08/24/ts/</url>
    
    <content type="html"><![CDATA[<h1 id="typescript"><a href="#typescript" class="headerlink" title="typescript"></a>typescript</h1><h2 id="一、安装和编译"><a href="#一、安装和编译" class="headerlink" title="一、安装和编译"></a>一、安装和编译</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// 全局安装</span><br>npm install -g typescript<br><br><span class="hljs-comment">// TS不能直接运行,需要编译成js代码,再去运行js</span><br><span class="hljs-comment">// 编译</span><br>tsc greeter.<span class="hljs-property">ts</span><br><span class="hljs-comment">// 编译过后,同目录会出现一个名字相同的 greeter.js 文件</span><br>node greeter.<span class="hljs-property">js</span><br><br><span class="hljs-comment">// 此时每次修改ts文件,都需要重新编译</span><br><span class="hljs-comment">// 使用 tsc greeter.ts -w   &quot; -w &quot; 可以监听文件,帮我们自动编译</span><br><span class="hljs-comment">// 缺点: 一次只能监听一个ts文件</span><br>tsc greeter.<span class="hljs-property">ts</span> -w<br><br><span class="hljs-comment">// 想一次编译目录下所有 ts 文件</span><br><span class="hljs-comment">// 手动在目录下创建 tsconfig.json 文件(ts的配置文件)</span><br><span class="hljs-comment">// 里面内容只需要输入一个 &#123;&#125;</span><br>&#123;<br><br>&#125;<br><span class="hljs-comment">// 在目录下运行 tsc 就可以编译所有 ts 文件了</span><br></code></pre></td></tr></table></figure><h3 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a>tsconfig.json</h3><p>tsconfig.json 配置选项：<br>** <strong>表示任意目录</strong></p><p>* <strong>表示任意文件夹</strong></p><h4 id="include"><a href="#include" class="headerlink" title="include"></a>include</h4><p>定义希望被编译文件所在的目录<br>默认值：[“**&#x2F;*”]<br>示例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">//所有src目录和tests目录下的文件都会被编译</span><br><span class="hljs-attr">&quot;include&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-string">&quot;src/**/*&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;tests/**/*&quot;</span><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h4 id="exclude"><a href="#exclude" class="headerlink" title="exclude"></a>exclude</h4><p>定义需要排除在外的目录<br>默认值：[“node_modules”,”bower_components”,”jspm_packages”]<br>示例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// src下hello目录下的文件都不会被编译</span><br><span class="hljs-attr">&quot;exclude&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">[</span><span class="hljs-string">&quot;./src/hello/**/*&quot;</span><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h4 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h4><p>定义被继承的配置文件<br>示例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// 当前配置文件自动包含config目录下base.json的所有配置</span><br><span class="hljs-attr">&quot;extends&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./config/base&quot;</span><br></code></pre></td></tr></table></figure><h4 id="files"><a href="#files" class="headerlink" title="files"></a>files</h4><p>指定被编译的列表，只有需要编译的文件<code>少</code>时才会用到<br>示例：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// 指定被编译文件的列表，只有需要编译少时才会用到</span><br><span class="hljs-attr">&quot;files&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>  <span class="hljs-string">&quot;core.ts&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-string">&quot;sys.ts&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-string">&quot;types.ts&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-string">&quot;parser.ts&quot;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><h4 id="compilerOptions"><a href="#compilerOptions" class="headerlink" title="compilerOptions"></a>compilerOptions</h4><p>编译选项是配置文件中非常重要也比较复杂的配置选项<br>在 compilerOptions 中包含多个子选项，用来完成对编译的配置</p><h5 id="target"><a href="#target" class="headerlink" title="target"></a>target</h5><p>设置 ts 代码编译的目标版本<br>可选值：ES3（默认）、ES5、ES6&#x2F;ES2015、ES7&#x2F;ES2016、ES2017、ES2018、ES2019、ES2020、ESNext</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ES6&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="lib"><a href="#lib" class="headerlink" title="lib"></a>lib</h5><p>指定代码运行时所包含的库（宿主环境）<br>可选值：ES5、ES6&#x2F;ES2015、ES7&#x2F;ES2016、ES2017、ES2018、ES2019、ES2020、ESNext、DOM、WebWorker、ScriptHost ……</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;target&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ES6&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;lib&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;ES6&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;DOM&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;outDir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dist&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;outFile&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dist/aa.js&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="module"><a href="#module" class="headerlink" title="module"></a>module</h5><p>设置编译后代码使用的模块化系统<br>可选值：CommonJS、UMD、AMD、System、ES2020、ESNext、None</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;module&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CommonJS&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="outDir"><a href="#outDir" class="headerlink" title="outDir"></a>outDir</h5><p>编译后文件的所在目录<br>默认情况下，编译后的 js 文件会和 ts 文件位于相同的目录，设置 outDir 后可以改变编译后文件的位置</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// 设置后编译后的js文件将会生成到dist目录</span><br><span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;outDir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dist&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="outFile"><a href="#outFile" class="headerlink" title="outFile"></a>outFile</h5><p>将所有的文件编译为一个 js 文件<br>默认会将所有的编写在全局作用域中的代码合并为一个 js 文件，如果 module 制定了 None、System 或 AMD 则会将模块一起合并到文件之中</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;outFile&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dist/app.js&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="rootDir"><a href="#rootDir" class="headerlink" title="rootDir"></a>rootDir</h5><p>指定代码的根目录，默认情况下编译后文件的目录结构会以最长的公共目录为根目录，通过 rootDir 可以手动指定根目录</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;rootDir&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./src&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="allowJs"><a href="#allowJs" class="headerlink" title="allowJs"></a>allowJs</h5><p>是否对 js 文件编译</p><h5 id="checkJs"><a href="#checkJs" class="headerlink" title="checkJs"></a>checkJs</h5><p>是否对 js 文件进行检查</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;compilerOptions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;allowJs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;checkJs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h5 id="removeComments"><a href="#removeComments" class="headerlink" title="removeComments"></a>removeComments</h5><p>是否删除注释<br>默认值：false</p><h5 id="noEmit"><a href="#noEmit" class="headerlink" title="noEmit"></a>noEmit</h5><p>不对代码进行编译<br>默认值：false</p><h5 id="sourceMap"><a href="#sourceMap" class="headerlink" title="sourceMap"></a>sourceMap</h5><p>是否生成 sourceMap<br>默认值：false</p><h4 id="严格检查"><a href="#严格检查" class="headerlink" title="严格检查"></a>严格检查</h4><ul><li><p>strict</p><ul><li>启用所有的严格检查，默认值为 true，设置后相当于开启了所有的严格检查</li></ul></li><li><p>alwaysStrict</p><ul><li>总是以严格模式对代码进行编译</li></ul></li><li><p>noImplicitAny</p><ul><li>禁止隐式的 any 类型</li></ul></li><li><p>noImplicitThis</p><ul><li>禁止类型不明确的 this</li></ul></li><li><p>strictBindCallApply</p><ul><li>严格检查 bind、call 和 apply 的参数列表</li></ul></li><li><p>strictFunctionTypes</p><ul><li>严格检查函数的类型</li></ul></li><li><p>strictNullChecks</p><ul><li>严格的空值检查</li></ul></li><li><p>strictPropertyInitialization</p><ul><li>严格检查属性是否初始化</li></ul></li><li><p>额外检查</p><ul><li>noFallthroughCasesInSwitch<ul><li>检查 switch 语句包含正确的 break</li></ul></li><li>noImplicitReturns<ul><li>检查函数没有隐式的返回值</li></ul></li><li>noUnusedLocals<ul><li>检查未使用的局部变量</li></ul></li><li>noUnusedParameters<ul><li>检查未使用的参数</li></ul></li></ul></li><li><p>高级</p><ul><li>allowUnreachableCode<ul><li>检查不可达代码</li><li>可选值：<ul><li>true，忽略不可达代码</li><li>false，不可达代码将引起错误</li></ul></li></ul></li><li>noEmitOnError<ul><li>有错误的情况下不进行编译</li><li>默认值：false</li></ul></li></ul></li></ul><h2 id="二、基础类型和声明"><a href="#二、基础类型和声明" class="headerlink" title="二、基础类型和声明"></a>二、基础类型和声明</h2><table><thead><tr><th>类型</th><th align="center">例子</th><th align="center">描述</th></tr></thead><tbody><tr><td>number</td><td align="center">1，-33，2.5</td><td align="center">任意数字</td></tr><tr><td>string</td><td align="center">“hello”,”wen”</td><td align="center">任意字符串</td></tr><tr><td>boolean</td><td align="center">true、false</td><td align="center">布尔值 true 或者 false</td></tr><tr><td>字面量</td><td align="center">其本身</td><td align="center">限制变量的值就是该字面量的值</td></tr><tr><td>any</td><td align="center">*</td><td align="center">任意类型</td></tr><tr><td>unknown</td><td align="center">*</td><td align="center">类型安全的 any</td></tr><tr><td>void</td><td align="center">空值（undefined）</td><td align="center">没有值或者 undefined</td></tr><tr><td>never</td><td align="center">没有值</td><td align="center">不能是任何值</td></tr><tr><td>object</td><td align="center">{name: “zs”}</td><td align="center">js 对象</td></tr><tr><td>array</td><td align="center">[1,2,3]</td><td align="center">js 数组</td></tr><tr><td>tuple</td><td align="center">[4,5]</td><td align="center">元素，TS 新增类型，固定长度的数组</td></tr><tr><td>enum</td><td align="center">enum{A,B}</td><td align="center">枚举，TS 新增类型</td></tr></tbody></table><h4 id="number-string-boolean"><a href="#number-string-boolean" class="headerlink" title="number | string | boolean"></a>number | string | boolean</h4><p>定义<br>let 变量: 类型<br>let 变量: 类型 &#x3D; 值</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span>;<br>num = <span class="hljs-number">5</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">isDone</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">&quot;hello&quot;</span>;<br></code></pre></td></tr></table></figure><h4 id="字面量"><a href="#字面量" class="headerlink" title="字面量"></a>字面量</h4><p>字面量 (一般不使用)<br>10 表示是 a 的类型</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-number">10</span>;<br>a = <span class="hljs-number">10</span>; <span class="hljs-comment">// ok</span><br>a = <span class="hljs-number">11</span>; <span class="hljs-comment">// error</span><br></code></pre></td></tr></table></figure><p>有时候可以这么使用<br>使用 <code>|</code> 来连接多个类型(联合类型)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-string">&quot;hello&quot;</span> | <span class="hljs-string">&quot;world&quot;</span>;<br>b = <span class="hljs-string">&quot;hello&quot;</span>;<br>b = <span class="hljs-string">&quot;world&quot;</span>;<br><br><span class="hljs-comment">// 一般使用这个比较广泛</span><br><span class="hljs-keyword">let</span> <span class="hljs-attr">c</span>: <span class="hljs-built_in">boolean</span> | <span class="hljs-built_in">string</span>;<br>c = <span class="hljs-literal">true</span>;<br>c = <span class="hljs-string">&quot;hello&quot;</span>;<br></code></pre></td></tr></table></figure><h4 id="any-unknown"><a href="#any-unknown" class="headerlink" title="any | unknown"></a>any | unknown</h4><p>any 表示的是任意类型<br>不建议使用,相当于关闭 TS 类型检测<br>同时，声明变量不指定类型,TS 解析器会自动判断它为 any</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">d</span>: <span class="hljs-built_in">any</span>;<br>d = <span class="hljs-number">10</span>;<br>d = <span class="hljs-string">&quot;hello&quot;</span>;<br>d = <span class="hljs-literal">true</span>;<br>-------------------------<br><span class="hljs-keyword">let</span> d;<br>d = <span class="hljs-number">10</span>;<br>d = <span class="hljs-string">&quot;hello&quot;</span>;<br>d = <span class="hljs-literal">true</span>;<br></code></pre></td></tr></table></figure><p>如果遇到不确定类型的变量的需求,可以使用 unknown</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">d</span>: <span class="hljs-built_in">unknown</span>;<br>d = <span class="hljs-number">10</span>;<br>d = <span class="hljs-string">&quot;hello&quot;</span>;<br>d = <span class="hljs-literal">true</span>;<br></code></pre></td></tr></table></figure><p><code>unknown</code> 和 <code>any</code> 作用类似,都可以任意赋值<br><strong>区别</strong>：<code>any</code>可以赋值给任意类型的变量,<code>unknown</code>则只能赋值给<code>unknown</code>类型的变量<br>此时如果使用<code>any</code>,赋值给其他类型的变量,会出现类型改变的效果,所以不建议使用</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">a</span>: <span class="hljs-built_in">any</span> = <span class="hljs-literal">true</span>;<br><span class="hljs-keyword">let</span> <span class="hljs-attr">b</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-literal">false</span>;<br>str = a; <span class="hljs-comment">// ok</span><br>str = b; <span class="hljs-comment">// error</span><br></code></pre></td></tr></table></figure><p>如果想把<code>unknown</code>赋值给<code>指定类型的变量</code>,有以下几种方式</p><ol><li>判断类型</li></ol><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> b === <span class="hljs-string">&quot;string&quot;</span>) &#123;<br>  str = b;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>类型断言<br>注：可以用来告诉解析器实际类型，前提是你确定它就是 string, 有两种写法</li></ol><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs typescript">str = e <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>;<br>str = &lt;<span class="hljs-built_in">string</span>&gt;e;<br></code></pre></td></tr></table></figure><h4 id="void-never"><a href="#void-never" class="headerlink" title="void | never"></a>void | never</h4><p><code>void</code>用来表示空，一般用来表示函数没有返回值</p><p><code>never</code>用来表示永远不会返回结果<br>比如抛错，程序抛错，不会进行下去，所以不会有返回结果</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fu</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">void</span> &#123;&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn1</span>(<span class="hljs-params"></span>): <span class="hljs-built_in">never</span> &#123;<br>  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;报错了！&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="三、面向对象"><a href="#三、面向对象" class="headerlink" title="三、面向对象"></a>三、面向对象</h2><p>面向对象：就是程序之中所有的操作都需要通过对象来完成。<br>举例来说：</p><ul><li>操作浏览器要使用 window 对象</li><li>操作网页要使用 document 对象</li><li>操作控制台要使用 console 对象<br>一切操作都要通过对象，也就是所谓的面向对象。</li></ul><h4 id="类（class）"><a href="#类（class）" class="headerlink" title="类（class）"></a>类（class）</h4><p>定义类：<br>使用<code>class</code>关键字</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> 类名 &#123;<br>  属性名: 类型；<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">参数: 类型</span>)&#123;<br>    <span class="hljs-variable language_">this</span>.属性名 = 参数；<br>  &#125;<br><br>  方法名()&#123;<br><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>使用</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>  &#125;<br><br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`大家好，我是<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;小文&quot;</span>, <span class="hljs-number">23</span>);<br>obj.<span class="hljs-title function_">sayHello</span>(); <span class="hljs-comment">// 大家好，我是小文</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">age</span>); <span class="hljs-comment">// 23</span><br></code></pre></td></tr></table></figure><p>如果属性&#x2F;方法使用关键字<code>static</code>修饰,则是类属性&#x2F;方法<br>可以直接使用类访问</p><p>关键字<code>readonly</code>表示只读属性</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br>  <span class="hljs-keyword">static</span> <span class="hljs-attr">num</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">55</span>;<br>  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">88</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>  &#125;<br><br>  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`大家好，我是<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">static</span> <span class="hljs-title function_">handle</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`大家好`</span>);<br>  &#125;<br>&#125;<br><span class="hljs-title class_">Person</span>.<span class="hljs-title function_">handle</span>(); <span class="hljs-comment">// 大家好</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Person</span>.<span class="hljs-property">num</span>); <span class="hljs-comment">// 55</span><br><br><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;小文&quot;</span>, <span class="hljs-number">23</span>);<br>obj.<span class="hljs-property">total</span> = <span class="hljs-number">77</span>; <span class="hljs-comment">// error:无法分配到 &quot;total&quot; ，因为它是只读属性</span><br></code></pre></td></tr></table></figure><h5 id="构造函数和-this"><a href="#构造函数和-this" class="headerlink" title="构造函数和 this"></a>构造函数和 this</h5><p>构造函数关键字<code>constructor</code><br>可以理解为 <code>new Person()</code> 的操作就是在调用 constructor<br><code>constructor</code>里面的<code>this</code>指向你创建的对象（如下的 obj）<br>可以通过<code>this</code>向新建的对象添加属性</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;小文&quot;</span>, <span class="hljs-number">23</span>);<br></code></pre></td></tr></table></figure><h4 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h4><p>在定义函数或是类时，如果遇到类型不明确就可以使用泛型<br>当然也可以，使用 any 解决，但是不推荐<br>因为，你只能知道，你的参数类型是 any 返回值类型也是 any, 不能确定你的参数类型和返回值类型是一样</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// 这时候可以使用泛型</span><br><span class="hljs-comment">// 名字可以任意取，T表示任意类型，具体类型是当函数调用时根据传参来确定</span><br><span class="hljs-comment">// (a: T)表示a 的类型 是T</span><br><span class="hljs-keyword">function</span> fn&lt;T&gt;(<span class="hljs-attr">a</span>: T): T &#123;<br>  <span class="hljs-keyword">return</span> a;<br>&#125;<br><br><span class="hljs-comment">// 可以直接调用</span><br><br><span class="hljs-comment">// 因为我传进入的参数的 number 类型，值为10</span><br><span class="hljs-comment">// 所以 T 就是 number 类型，参数 a 也是 number类型，返回值也是number类型</span><br><span class="hljs-title function_">fn</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// 不指定泛型，TS自动对类型进行推断</span><br><br>fn&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">// 指定泛型</span><br><br><span class="hljs-comment">// 指定多个泛型</span><br><span class="hljs-keyword">function</span> fn2&lt;T, k&gt;(<span class="hljs-attr">a</span>: T, <span class="hljs-attr">b</span>: K): T &#123;<br>  <span class="hljs-keyword">return</span> a;<br>&#125;<br><span class="hljs-title function_">fn2</span>(<span class="hljs-number">123</span>, <span class="hljs-string">&quot;hello&quot;</span>);<br><span class="hljs-comment">// 建议书写时指定类型，更加直观</span><br>fn2&lt;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt;(<span class="hljs-number">123</span>, <span class="hljs-string">&quot;hello&quot;</span>);<br><br><span class="hljs-comment">// 有时候,任意的例如 T, K 类型范围过大</span><br><span class="hljs-comment">// 我们也可以使用 type 或者 interface 或 class 关键字处理</span><br><br><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Inter</span> &#123;<br>  <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>;<br>&#125;<br><span class="hljs-keyword">function</span> fn3&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Inter</span>&gt;(<span class="hljs-attr">a</span>: T): <span class="hljs-built_in">number</span> &#123;<br>  <span class="hljs-keyword">return</span> a.<span class="hljs-property">length</span>;<br>&#125;<br><span class="hljs-comment">// 这时候参数 a 必须能够实现 Inter 接口,也就是 a 必须拥有 length 属性才可以</span><br><span class="hljs-title function_">fn3</span>(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">// ok,字符串拥有length</span><br><span class="hljs-title function_">fn3</span>(<span class="hljs-number">122</span>); <span class="hljs-comment">// error,字符串拥有length</span><br><span class="hljs-title function_">fn3</span>(&#123; <span class="hljs-attr">length</span>: <span class="hljs-number">5</span> &#125;); <span class="hljs-comment">// ok,拥有length</span><br><br><span class="hljs-comment">// 除了 函数可以使用泛型, 类也可以使用泛型</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>&lt;T&gt; &#123;<br>  <span class="hljs-attr">name</span>: T;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: T</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> mc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyClass</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-string">&quot;zs&quot;</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>前端</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>小文的7月17</title>
    <link href="/2022/07/17/2022-07-17/"/>
    <url>/2022/07/17/2022-07-17/</url>
    
    <content type="html"><![CDATA[<p>今天看着文档修改了一下博客的布置，暂时还没想到要记录什么，感觉什么都没干已经到晚上了！</p>]]></content>
    
    
    <categories>
      
      <category>日常生活</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>小文7月16号</title>
    <link href="/2022/07/16/%E5%B0%8F%E6%96%877%E6%9C%8816%E5%8F%B7/"/>
    <url>/2022/07/16/%E5%B0%8F%E6%96%877%E6%9C%8816%E5%8F%B7/</url>
    
    <content type="html"><![CDATA[<p>小文在这一天并没有留下什么内容~~~~~~~</p>]]></content>
    
    
    <categories>
      
      <category>日常生活</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/07/16/hello-world/"/>
    <url>/2022/07/16/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
